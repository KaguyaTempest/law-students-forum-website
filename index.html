<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>LAW STUDENTS INTELLECTUAL FORUM</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="style.css" />

    <!-- Firebase SDK - Use compat versions only once -->
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-analytics-compat.js"></script>
</head>
<body>
    <div id="header-placeholder"></div>

    <main class="homepage-main">
        <!-- Existing homepage content -->
        <!-- STUDENT ARTICLES CAROUSEL -->
   <section class="student-articles-section relative w-full max-w-3xl mx-auto overflow-hidden my-6">
  <h2 class="text-2xl font-bold mb-4 text-center">Student Articles</h2>

  <!-- Left Arrow -->
  <button id="leftArrow" class="absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-30 hover:bg-opacity-60 text-white p-2 rounded-full z-10">
    &#10094;
  </button>

  <!-- Carousel Wrapper -->
  <div id="student-articles-carousel" class="flex transition-transform duration-500 ease-in-out">
    <!-- JS will inject .article-card elements here -->
  </div>

  <!-- Right Arrow -->
  <button id="rightArrow" class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-30 hover:bg-opacity-60 text-white p-2 rounded-full z-10">
    &#10095;
  </button>
</section>

        
        <section class="newsletter-section">
            <a href="Forum-Newsletter.html">
                <h2>Forum Newsletter</h2>
            </a>
            <p>
                Stay updated with our monthly newsletter featuring student highlights,
                upcoming events, and academic tips from your peers.
            </p>
            <a href="Forum-Newsletter.html">SUBSCRIBE NOW</a>
        </section>

        <section class="moot-court-section">
            <a href="moot-court-guide.html">
                <h2>Guide to Moot Court Competitions</h2>
            </a>
            <p>A step-by-step guide for participating and succeeding in moot court competitions.</p>
            <a href="moot-court-guide.html">READ MORE</a>
        </section>

        <section class="campus-guides-section">
            <h2>Campus Guides</h2>
            <div class="guides-grid">
                <div class="guide-card">
                    <a href="tutorials.html">
                        <div class="play-icon"></div>
                        <p>Tutorials</p>
                    </a>
                </div>
                <div class="guide-card">
                    <a href="attachment.html">
                        <div class="scales-icon"></div>
                        <p>Attachment</p>
                    </a>
                </div>
            </div>
        </section>

        <section class="about-section top-about" id="about-us">
            <h2>About</h2>
            <p>A platform for law students to share and access intellectual resources.</p>
            <p>University of Zimbabwe<br />Faculty of Law</p>
        </section>

        <section class="contact-section">
            <h3>Academic Inquiries</h3>
            <p><a href="mailto:info@lsif.uz.ac.zw">info@lsif.uz.ac.zw</a></p>
        </section>

        <!-- NEW: Authentication Section -->
        <section class="auth-section">
         <div id="auth-modal" class="auth-modal hidden">
           <div class="auth-card">
           <div class="auth-toggle">
           <button id="show-login" class="active">Login</button>
        <button id="show-signup">Sign Up</button>
         </div>

                <div id="signup-form-container" class="auth-form-container active">
                    <h2>Create an Account</h2>
                    <form id="signup-form">
                        <input type="text" id="signup-username" placeholder="Username" required />
                        <input type="email" id="signup-email" placeholder="Email" required />
                        <input
                            type="password"
                            id="signup-password"
                            placeholder="Password (min 6 characters)"
                            required
                        />
                        <input
                            type="password"
                            id="signup-confirm-password"
                            placeholder="Confirm Password"
                            required
                        />

                        <select id="user-role" required>
                            <option value="">Select your role</option>
                            <option value="student">Law Student</option>
                            <option value="lawyer">Lawyer (in field)</option>
                            <option value="observer">Observer</option>
                        </select>

                        <div id="student-fields" class="hidden">
                            <input
                                type="text"
                                id="student-id"
                                placeholder="Student ID Number"
                                required
                            />
                            <select id="student-university" required>
                                <option value="">Select your University</option>
                                <option value="UZ">University of Zimbabwe</option>
                                <option value="MSU">Midlands State University</option>
                                <option value="ZEGU">Zimbabwe Ezekiel Guti University (ZEGU)</option>
                                <option value="GZU">Great Zimbabwe University (GZU)</option>
                            </select>
                            <select id="student-year-of-study" required>
                                <option value="">Select Year of Study</option>
                                <option value="1">Year 1</option>
                                <option value="2">Year 2</option>
                                <option value="3">Year 3</option>
                                <option value="4">Year 4</option>
                                <option value="5">Year 5</option>
                                <option value="6">Year 6</option>
                                <option value="7">Year 7</option>
                            </select>
                        </div>

                        <div id="lawyer-fields" class="hidden">
                            <input
                                type="number"
                                id="lawyer-years-experience"
                                placeholder="Years of Experience"
                                min="0"
                                required
                            />
                        </div>

                        <button type="submit">Sign Up</button>
                        <div id="signup-error-message" class="error-message"></div>
                    </form>
                </div>

                <div id="login-form-container" class="auth-form-container hidden">
                    <h2>Login to your Account</h2>
                    <form id="login-form">
                        <input type="email" id="login-email" placeholder="Email" required />
                        <input type="password" id="login-password" placeholder="Password" required />
                        <button type="submit">Login</button>
                        <div id="login-error-message" class="error-message"></div>
                        <p><a href="#" id="forgot-password-link">Forgot Password?</a></p>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 LAW STUDENTS INTELLECTUAL FORUM</p>
    </footer>

    <script>
        // Your Firebase config
        const firebaseConfig = {
            apiKey: "AIzaSyC0qWjJ8kt5jo1rOwNAd21RZ9QeK6pE7yU",
            authDomain: "lsif-cedb1.firebaseapp.com",
            databaseURL: "https://lsif-cedb1-default-rtdb.firebaseio.com",
            projectId: "lsif-cedb1",
            storageBucket: "lsif-cedb1.firebasestorage.app",
            messagingSenderId: "761903090404",
            appId: "1:761903090404:web:0b7c914fa2c3599faebaf1",
            measurementId: "G-GGNJJSP3DJ",
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        firebase.analytics();

        const auth = firebase.auth();
        const database = firebase.database();

    // Load the header dynamically
    fetch('header.html')
      .then(response => response.text())
      .then(html => {
        document.getElementById('header-placeholder').innerHTML = html;
      })
      .catch(err => console.error('Failed to load header:', err));
    // Student Articles Carousel
    const studentArticlesCarousel = document.getElementById('student-articles-carousel');
    const leftArrow = document.getElementById('leftArrow');
    const rightArrow = document.getElementById('rightArrow');
    const scrollStep = 350;

    leftArrow.addEventListener('click', () => {
      carousel.scrollBy({ left: -scrollStep, behavior: 'smooth' });
    });

    rightArrow.addEventListener('click', () => {
      carousel.scrollBy({ left: scrollStep, behavior: 'smooth' });
    });
    // Load articles from Firebase Storage JSON files
    async function loadArticles() {
      const articleList = ['article1.json', 'article2.json', 'ai-copyright-analysis.json']; // Add or generate dynamically
      for (const file of articleList) {
        try {
          const url = await storage.ref(`articles/${file}`).getDownloadURL();
          const response = await fetch(url);
          const data = await response.json();

          const card = document.createElement('div');
          card.className = 'article-card min-w-[300px] max-w-[300px] bg-white p-4 rounded shadow';
          card.innerHTML = `
            ${data.image ? `<img src="${data.image}" alt="${data.title}" class="mb-2 rounded w-full" />` : ''}
            <h3 class="font-semibold text-lg mb-1">${data.title}</h3>
            ${data.author ? `<p class="text-sm text-gray-500 mb-1">By ${data.author}</p>` : ''}
            <p class="text-sm mb-2">${data.description}</p>
            <a href="${data.url}" class="text-blue-600 font-bold">READ MORE</a>
          `;
          carousel.appendChild(card);
        } catch (err) {
          console.error(`Error loading ${file}:`, err);
        }
      }
    }
    loadArticles();

      // Firebase Storage v9 modular import
      import { getStorage, ref, getDownloadURL } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-storage.js";

      // Initialize storage
      window.storage = getStorage(); // Make storage globally accessible
    </script>

    <script src="auth.js"></script>
    <script src="script.js"></script>

</body>
</html>
